# Read Me
##  背景与目的
**智胜空天2019比赛科目一**
1. 比赛场景：比赛场地设置起飞区、多目标识别区、降落区三大区域，其中目标识别区大小为50×100米矩形区域，区内随机放置多种三维军事目标仿真模型；降落区大小为2×2米正方形区域，中心以H字母标示，位置不固定。
2. 平台要求：采用小型电动旋翼飞行器，飞行总重量不超过5kg，数量不多于2架；机体材质不限，轴距不超过680mm；不允许使用差分GPS、差分北斗等高精度定位设备；飞行高度不得超过50米。
3. 比赛流程：无人机完成起飞后，必须采用自主控制方式，不能人为操作地面站和遥控器，完成任务后降落在指定区域。图像识别区域内设置中心定位地标，场地内随机布设飞机、车辆、舰船三类军事目标的立体模型，数量若干。比赛成绩按识别准确度、任务完成时间、自主飞行控制等作为评分依据，包括自主控制分、目标侦察分。自主控制评分指标包括飞行准备时间、任务总时间、飞行高度、自主控制、精准降落。目标侦察评分指标包括目标类别、数量、位置、时间。其中位置以目标距中心定位地标的地面距离表示，识别结果在地面站以一张图像显示。
![规则示意图](http://www.sc.sdu.edu.cn/__local/F/F7/56/4C68EF3919DAF7AE8BB399F5906_AC333DE4_6DA68.png)

## 程序内容
程序主要流程为：
1. 通过opencv视频流打开图传图像链路，通过qgroundcontrol给于的指令（通过txt文件实现）拍摄若干照片
2. 对照片进行镜头矫正与裁切
3. 利用opencv stitcher类对图像进行拼接（其实尝试过自己写stiticher类，但是效果不如opencv的）
4. 将裁切好的图像分为1920x1080大小，输入yolo网络中（每个图像中有一定的重叠防止目标出现在接缝处）
5. 将裁切好的图像进行圆的Hough检测
6. 由于已知圆的半径为1米，根据Hough检测得到的圆计算目标与中心的相对距离
7. 打印在大图上输出
